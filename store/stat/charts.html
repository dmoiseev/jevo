<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
		google.charts.load('current', {packages: ['corechart', 'line']});
		google.charts.setOnLoadCallback(drawCharts);
		/**
		 * Returns array of two items - min and max values. [min, max].
		 * Should be applied only to Numbers.
		 * @param {Array} arr Array of numbers, we are working with
		 * @return {Array} Array of two numbers - min and max values
		 */
		function getMinMax(arr) {
			return [Math.min(...arr), Math.max(...arr)];
		}
		/**
		 * Changes array values according to minimum and maximum values
		 * in etalon array.
		 * @param {Array} minMax Minimum and maximum values from etalon array
		 * @param {Array} arr Array we need to reformat according to minMax values.
		 * @return {Array} Reformated array
		 */
		function reformatArray(minMax, arr){
			var arrMinMax = getMinMax(arr); 
			var coef      = (minMax[1] - minMax[0]) / (arrMinMax[1] - arrMinMax[0]);
			
			return arr.map(function (el) {
				return (el - arrMinMax[0]) * coef + minMax[0];
			});
		}
		/**
		 * Creates as many charts data as many arguments we pass in
		 * @param {Boolean} trends Show trends only (original values will be changed).
		 * false - original values will be showed.
		 * @param {Array} indexArr X coordinate data array
		 * @param {Array} etalonArr Charts data arrays. First argument should be
		 * with maximum values comparing with others.
		 */
		function createCharts(trends, indexArr, etalonArr) {
			var data         = Array.prototype.slice.call(arguments);
			var result       = [];
			var etalonMinMax = getMinMax(etalonArr);
			var minMax;
			var arr;
			var i;
			var j;
			
			data.shift(); // removes trends
			data.shift(); // removes indexArr
			for (i = 0; i < indexArr.length; i++) {
				//
				// Value from etalon array. We don't need to change it.
				//
				arr = [indexArr[i]];
				if (arr !== undefined) {
					for (j = 0; j < data.length; j++) {
						if (trends) {
							arr.push(reformatArray(etalonMinMax, [].concat(data[j]))[i]);
						} else {
							arr.push(data[j][i]);
						}
					}
					result.push(arr);
				}
			}
			return result;
		}
		/**
		 * Draws charts one by one according to data...
		 */
		function drawCharts() {
			var data = new google.visualization.DataTable();
			
			// Organisms
			var probs         = [[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1],[100,300,95,0,1,1,1]];
			var funcs         = [5,     7,     7,      6,      6,     5,      6,      6,      6,      7,      6,       6,       6,      6,      6,      6,       6,       6,       ];
			var funcCall      = [5,     5,     4,      6,      7,     8,      6,      6,      6,      8,      11,      11,      11,     11,     12,     12,      12,      12,      ];
			var mutOnClone    = [21,    21,    8,      27,     4,     10,     7,      7,      7,      7,      7,       0,       0,      0,      0,      0,       0,       0,       ];
			var mutPeriod     = [3276,  5086,  9191,   6924,   9210,  5269,   9210,   9210,   9210,   9210,   9210,    9210,    9210,   9210,   9210,   9210,    9210,    9210,    ];
			var mutAmount     = [5,     41,    16,     35,     70,    0,      51,     51,     51,     7,      1,       6,       6,      6,      6,      6,       6,       6,       ];
			var energy        = [772349,941580,1493407,1173252,211744,1537091,2205868,2682491,6614198,2749709,4307350, 3988756, 5083558,4763380,4947236,16583859,15063005,9313342, ];
			var lines         = [141,   141,   148,    149,    143,   136,    143,    138,    142,    132,    138,     140,     145,    145,    152,    151,     152,     151,     ];
			// Population
			var orgAmount     = [240,   154,   255,    264,    86,    256,    499,    500,    500,    488,    500,     498,     500,    496,    496,    500,     500,     500,     ];
			var ips           = [6,     14,    6,      4,      18,    5,      3,      3,      2,      3,      3,       2,       2,      2,      1,      1,       1,       1,       ];
			var genAmount     = [182664,194194,207040, 214598, 251679,263857, 270535, 272273, 277160, 282982, 288172,  293660,  303121, 306304, 312713, 319710,  320842,  322013,  ];
			// World
			var widthHeight   = [[400,300]];
			var enDecPeriod   = [20       ];
			var enDecAmount   = [1        ];
			var delAfterTime  = [2000     ];
			var delAmount     = [50       ];
			var cloneAfter    = [5        ];
			var maxOrg        = [500      ];
			var enCheckPeriod = [5000     ];
			 
			/*
			data.addColumn('number', 'Population'); // X coordinate aray
			data.addColumn('number', 'Energy');     // etalon array
			data.addColumn('number', 'Functions');
			data.addColumn('number', 'Function calls');
			data.addColumn('number', 'Mutations on clone');
			data.addColumn('number', 'Mutation period');
			data.addColumn('number', 'Mutation amount');
			data.addColumn('number', 'Lines');
			data.addColumn('number', 'Organisms amount');
			data.addColumn('number', 'IPS');
			*/
			data.addColumn('number', 'Population'); // X coordinate aray
			data.addColumn('number', 'Energy');     // etalon array
			data.addColumn('number', 'Mutations on clone');
			data.addColumn('number', 'Mutation period');
			data.addColumn('number', 'Mutation amount');
			
			//data.addRows(createCharts(true, genAmount, energy, funcs, funcCall, mutOnClone, mutPeriod, mutAmount, lines, orgAmount, ips));
			data.addRows(createCharts(true, genAmount, energy, mutOnClone, mutPeriod, mutAmount));

			 var options = {
				hAxis: {
					title: 'Population'
				},
				vAxis: {
					title: 'Amount'
				},
				lineWidth: 3,
				curveType: 'function',
				pointsVisible: true
			};

			var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
			chart.draw(data, options);
		}
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 1250px; height: 700px"></div>
  </body>
</html>